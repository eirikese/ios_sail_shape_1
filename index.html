<!DOCTYPE html>
<html>
<head>
    <title>Video Stream</title>
</head>
<body>
    <h1>Video Stream to Local Server</h1>
    <video id="video" autoplay></video>
    <script>
        const video = document.getElementById('video');
        const socket = new WebSocket('ws://localhost:8000/video-stream'); // Adjust to match local server

        navigator.mediaDevices.getUserMedia({ video: true })
            .then(stream => {
                video.srcObject = stream;

                const mediaRecorder = new MediaRecorder(stream);
                mediaRecorder.ondataavailable = event => {
                    if (event.data.size > 0) socket.send(event.data); // Send video to server
                };
                mediaRecorder.start(100); // Stream data every 100ms
            })
            .catch(console.error);
    </script>
</body>
</html>
